<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Yang Baru</title>
    <link rel="stylesheet" href="../styles/main.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <style>
      .dark-mode .select2-container--default .select2-selection--single {
        background-color: #111b21;
        color: #b30e0e;
        border: 1px solid #444;
      }
      .dark-mode .select2-dropdown {
        background-color: #333;
        color: #a10909;
        border: 1px solid #444;
      }

      .dark-mode .select2-results__option {
        background-color: #111b21;
        color: #cec3c3;
      }

      .select2-results__option--highlighted {
        background-color: #3739af !important;
        color: #fff !important;
      }

      .dark-mode .select2-container--default .select2-search--dropdown .select2-search__field {
        background-color: #222;
        color: #ddd;
        border: 1px solid #444;
      }
      .dark-mode .select2-container--default .select2-search--dropdown .select2-search__field::placeholder {
        color: #888;
      }

      .dark-mode .select2-container--default .select2-search--dropdown .select2-search__field:focus {
        background-color: #333;
        color: #fff;
        border: 1px solid #555;
      }

      .dark-mode .select2-container--default .select2-results__option[aria-selected="true"] {
        background-color: #333;
        color: #ddd;
      }

      .dark-mode .select2-container--default .select2-results__option[aria-selected="true"]:hover {
        background-color: #444;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <nav>
      <div class="logo">F169</div>
      <button id="darkModeToggle">ðŸŒ™</button>
    </nav>
    <main>
      <div class="container">
        <select id="wilayah" onchange="getJadwal()">
          <option value="">Memuat wilayah...</option>
        </select>
        <div id="inputeknoJdwl" class="content">
          <div class="header-jdwlsholat">
            <div class="icon">
              <svg class="timeIcn" viewBox="0 0 512 512">
                <path d="M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" />
                <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 128v144h96" />
              </svg>
            </div>
            <div class="h-jdwl">
              <div class="loc">Wilayah</div>
              <div class="date">Senin, 25 Agustus 2023</div>
            </div>
          </div>
          <div class="content-jdwlsholat">
            <div class="jdwlsholat"><span class="name">Subuh</span> <span class="time subuh">00:00</span></div>
            <div class="jdwlsholat"><span class="name">Dhuha</span> <span class="time dhuha">00:00</span></div>
            <div class="jdwlsholat"><span class="name">Dzuhur</span> <span class="time dzuhur">00:00</span></div>
            <div class="jdwlsholat"><span class="name">Ashar</span> <span class="time ashar">00:00</span></div>
            <div class="jdwlsholat"><span class="name">Maghrib</span> <span class="time maghrib">00:00</span></div>
            <div class="jdwlsholat"><span class="name">Isya</span> <span class="time isya">00:00</span></div>
          </div>
          <div class="countdown">
            Waktu shalat berikutnya: <br />
            <span id="countdown"></span>
          </div>
        </div>
      </div>
    </main>
    <script>
      $(document).ready(function () {
        $("#wilayah").select2({
          placeholder: "Cari Wilayah...",
          allowClear: true,
        });
      });
    </script>
    <script>
      fetch("../script/data/ws.js")
        .then((response) => response.json())
        .then((data) => {
          const wilayahSelect = document.getElementById("wilayah");
          wilayahSelect.innerHTML = '<option value="">Pilih Wilayah...</option>';

          data.forEach((wilayah) => {
            let option = document.createElement("option");
            option.value = wilayah.id;
            option.textContent = wilayah.nama;
            wilayahSelect.appendChild(option);
          });

          $("#wilayah").select2();
        });
    </script>
    <script src="../script/data/ws.js"></script>
    <script src="../main/script.js"></script>
  </body>
</html>
